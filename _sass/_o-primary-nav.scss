/*------------------------------------*\
    #primary-nav
\*------------------------------------*/

.primary-nav {
    position: absolute;
    z-index: 1;
    width:  $size--touch-target;
    height: $size--touch-target;
    overflow: hidden;
    cursor: pointer;
    top: 0;
    left: 0;
    user-select: none;
    font-family: $type__sans-serif;
    
    @media screen and (min-width: $breakpoint--lap) {
        position: static;
        width:  auto;
        height: auto;
        background-color: transparent;
    }
    
    &:before {
        color: $color--primary;
        content: "☰";
        font-size: $size--icon;
        text-align: center;
        position: absolute;
        width: $size--touch-target;
        height: $size--touch-target;
        line-height: $size--touch-target;
        
        @media screen and (min-width: $breakpoint--lap) {
          content: normal;
          content: none;
        }
    }
    
    &--open {
        overflow: visible;
        width: $size--menu-width;
    }

    
    &--open:before {
        content: "✕";
        display: block;
        color: $color--white;
        background-color: lighten($color--primary, 2.5%);
      

        @media screen and (min-width: $breakpoint--lap) {
            content: normal;
            content: none;
        }
    }
    

    &--open .page-nav__list {
        background-color: $color--primary;
    }
    
    .page-nav__list,
    .social-nav__list {
        width: $size--menu-width;
        list-style: none;
        margin:  0;
        padding: 0;
        z-index: -1;
        overflow: hidden;
        
        @media screen and (max-width: $breakpoint--palm) {
            width: $size--touch-target;
        }
        
        @media screen and (min-width: $breakpoint--lap) {
          padding-top: 0;
          position: static;
          width: auto;
          display: block;
          background: none;
          text-align: left;
        }
        
        &:first-child {
            padding-top: $size--touch-target;
        }
    }
    
        .page-nav__item,
        .social-nav__item {

            @media screen and (min-width: $breakpoint--lap) {
                display: inline-block;
                border-top: none;
            }
        }
    
            .page-nav__link,
            .social-nav__link {
                border-top: 1px solid lighten($color--primary, 5%);
                background-color: $color--primary;
                color: $color--white;
                display: block;
                white-space: nowrap;
                line-height: $size--touch-target;
                text-decoration: none;
                
                @media screen and (min-width: $breakpoint--lap) {
                  color: $color--primary;
                }
                
                &:hover,
                &:hover:before {
                  background-color: $color--secondary;
                  border-top-color: lighten($color--secondary, 5%);
                }
                
                /**
                 * Icons
                 */
                &:before {
                  width:  $size--touch-target;
                  height: $size--touch-target;
                  line-height: $size--touch-target;
                  text-align: center;
                  padding: 0;
                  background-color: lighten($color--primary, 2.5%);
                  margin-right: $gutter--narrow;
                }
            }
            
            .social-nav__link {
                border-top-color: lighten($color--primary, 15%);
                background-color: lighten($color--primary, 10%);
                
                &:before {
                    background-color: lighten($color--primary, 12.5%);
                }
            }
}
